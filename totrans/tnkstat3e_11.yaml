- en: Hypothesis Testing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 假设检验
- en: 原文：[https://allendowney.github.io/ThinkStats/chap09.html](https://allendowney.github.io/ThinkStats/chap09.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://allendowney.github.io/ThinkStats/chap09.html](https://allendowney.github.io/ThinkStats/chap09.html)
- en: In the datasets we have explored in this book, we’ve seen differences between
    groups of people – and penguins – correlations between variables, and slopes of
    regression lines. Results like these are called **observed effects** because they
    appear in a sample, as contrasted with actual effects in the population, which
    we usually can’t observe directly. When we see an apparent effect, we should consider
    whether it is likely to be present in the larger population or whether it might
    appear in the sample by chance.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中我们探索的数据集中，我们看到了人群——以及企鹅——变量之间的相关性，以及回归线的斜率。这样的结果被称为**观察到的效应**，因为它们出现在样本中，与通常无法直接观察到的总体中的实际效应形成对比。当我们看到明显的效应时，我们应该考虑它是否可能存在于更大的总体中，或者它是否可能只是由于样本中的偶然性而出现。
- en: There are several ways to formulate this question, including Fisher null hypothesis
    testing, Neyman-Pearson decision theory, and Bayesian hypothesis testing. What
    I present here is a mixture of these approaches that is often used in practice.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种方式来表述这个问题，包括费舍尔零假设检验、奈曼-皮尔逊决策理论和贝叶斯假设检验。我这里展示的是这些方法在实践中常用的混合体。
- en: '[Click here to run this notebook on Colab](https://colab.research.google.com/github/AllenDowney/ThinkStats/blob/v3/nb/chap09.ipynb).'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[点击此处运行此笔记本在Colab](https://colab.research.google.com/github/AllenDowney/ThinkStats/blob/v3/nb/chap09.ipynb)。'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Flipping Coins
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 抛硬币
- en: We’ll start with a simple example, based on an example in David MacKay’s book,
    *Information Theory, Inference, and Learning Algorithms*.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从David MacKay的书籍《信息论、推理和学习算法》中的一个例子开始，进行一个简单的示例。
- en: When Euro coins were introduced in 2002, a curious coin enthusiast spun a Belgian
    one-Euro coin on edge 250 times and noted that it landed with the heads side up
    140 times and tails side up 110 times. If the coin is perfectly balanced, we expect
    only 125 heads, so this data suggests the coin is biased. On the other hand, we
    don’t expect to get exactly 125 heads every time, so it’s possible that the coin
    is actually fair, and the apparent deviation from the expected value is due to
    chance. To see whether that’s plausible, we can perform a hypothesis test.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 当欧元硬币在2002年引入时，一位好奇的硬币爱好者将一枚比利时1欧元硬币翻转250次，并记录下正面朝上140次，反面朝上110次。如果硬币是完全平衡的，我们预计只有125个正面，所以这些数据表明硬币是有偏的。另一方面，我们并不期望每次都能得到正好125个正面，所以硬币实际上可能是公平的，而与期望值的偏差可能是由于偶然。为了看看这是否合理，我们可以进行假设检验。
- en: We’ll use the following function to compute the absolute difference between
    the observed number and the expected number if the coin is fair.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用以下函数来计算如果硬币是公平的，观察到的数字与期望数字之间的绝对差异。
- en: '[PRE3]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: In the observed data, this deviation is 15.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在观察数据中，这个偏差是15。
- en: '[PRE4]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: If the coin is actually fair, we can simulate the coin-spinning experiment by
    generating a sequence of random strings – either `'H'` or `'T'` with equal probability
    – and counting the number of times `'H'` appears.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果硬币实际上是公平的，我们可以通过生成一个随机字符串序列来模拟抛硬币实验——要么是 `'H'` 或 `'T'`，概率相等——并计算 `'H'` 出现的次数。
- en: '[PRE6]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Each time we call this function, we get the outcome of a simulated experiment.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 每次我们调用这个函数时，我们都会得到一个模拟实验的结果。
- en: '[PRE7]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The following loop simulates the experiment many times, computes the deviation
    for each one, and uses a list comprehension to collect the results in a list.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的循环多次模拟实验，计算每个实验的偏差，并使用列表推导式将结果收集到一个列表中。
- en: '[PRE10]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The result is a sample from the distribution of deviations under the assumption
    that the coin is fair. Here’s what the distribution of these values looks like.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是从假设硬币是公平的偏差分布中抽取的样本。以下是这些值的分布图。
- en: '[PRE11]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '![_images/3f731f1367cbe5b239cdb8e7b4f3b4024828e9c8d5c6fca6476b5a0b160761ba.png](../Images/df6cee07f60cfcf7f0c2dac3c53175d2.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/df6cee07f60cfcf7f0c2dac3c53175d2.png)'
- en: Values near 0 are the most common; values greater than 10 are less common. Remembering
    that the deviation in the observed data is 15, we see that deviations of that
    magnitude are rare, but not impossible. In this example, the simulated results
    equal or exceed 15 about 7.1% of the time.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 接近0的值是最常见的；大于10的值较少见。记住观察数据的偏差是15，我们可以看到这种程度的偏差是罕见的，但并非不可能。在这个例子中，模拟结果等于或超过15的大约7.1%的时间。
- en: '[PRE12]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: So, if the coin is fair, we expect a deviation as big as the one we saw about
    7.1% of the time, just by chance.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果硬币是公平的，我们预计会偶然出现我们看到的偏差的大约7.1%的时间。
- en: We can conclude that an effect of this size is not common, but it is certainly
    not impossible, even if the coin is fair. On the basis of this experiment, we
    can’t rule out the possibility that the coin is fair.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以得出结论，这种规模的效果并不常见，但即使硬币是公平的，这当然也不是不可能的。基于这个实验，我们不能排除硬币是公平的可能性。
- en: This example demonstrates the logic of statistical hypothesis testing.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子展示了统计假设检验的逻辑。
- en: We started with an observation, 140 heads out of 250 spins, and the hypothesis
    that the coin is biased – that is, that the probability of heads differs from
    50%.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们从一个观察开始，250次投掷中出现了140次正面，并提出了一个假设，即硬币是偏斜的——也就是说，正面的概率与50%不同。
- en: We chose a **test statistic** that quantifies the size of the observed effect.
    In this example, the test statistic is the absolute deviation from the expected
    outcome.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们选择了一个**测试统计量**，它量化了观察到的效应的大小。在这个例子中，测试统计量是预期结果与实际观察到的绝对偏差。
- en: We defined a **null hypothesis**, which is a model based on the assumption that
    the observed effect is due to chance. In this example, the null hypothesis is
    that the coin is fair.
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们定义了一个**零假设**，这是一个基于观察到的效应是由于偶然性这一假设的模型。在这个例子中，零假设是硬币是公平的。
- en: Next, we computed a **p-value**, which is the probability of seeing the observed
    effect if the null hypothesis is true. In this example, the p-value is the probability
    of a deviation as big as 15 or bigger.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来，我们计算了一个**p值**，这是在零假设为真的情况下观察到观察到的效应的概率。在这个例子中，p值是偏差达到15或更大的概率。
- en: The last step is to interpret the result. If the p-value is small, we conclude
    that the effect would be unlikely to happen by chance. If it is large, we conclude
    that the effect could plausibly be explained by chance. And if it falls somewhere
    in the middle, as in this example, we can say that the effect is unlikely to happen
    by chance, but we can’t rule out the possibility.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是解释结果。如果p值很小，我们得出结论，这种效应不太可能偶然发生。如果它很大，我们得出结论，这种效应可能合理地由偶然性解释。如果它位于中间，就像这个例子一样，我们可以说这种效应不太可能偶然发生，但我们不能排除这种可能性。
- en: All hypothesis tests are based on these elements – a test statistic, a null
    hypothesis, and a p-value.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 所有假设检验都基于这些元素——一个测试统计量、一个零假设和一个p值。
- en: '## Testing a Difference in Means'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '## 测试均值差异'
- en: In the NSFG data, we saw that the average pregnancy length for first babies
    is slightly longer than for other babies. Now let’s see if that difference could
    be due to chance.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在NSFG数据中，我们看到了初生儿的平均孕期略长于其他婴儿。现在让我们看看这种差异是否可能是偶然的。
- en: The following cells download the data and install `statadict`, which we need
    to read the data.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的单元格下载数据并安装`statadict`，这是我们读取数据所需的。
- en: '[PRE14]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[PRE15]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The function `get_nsfg_groups` reads the data, selects live births, and groups
    live births into first babies and others.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 函数`get_nsfg_groups`读取数据，选择活产，并将活产分为初生儿和其他婴儿。
- en: '[PRE16]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Now we can select pregnancy lengths, in weeks, for both groups.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以选择两组的孕期，以周为单位。
- en: '[PRE17]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The following function takes the data as a tuple of two sequences, and computes
    the absolute difference in means.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的函数接受数据作为两个序列的元组，并计算均值的绝对差异。
- en: '[PRE18]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Between first babies and others, the observed difference in pregnancy length
    is 0.078 weeks.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在初生儿和其他婴儿之间，观察到的孕期差异是0.078周。
- en: '[PRE19]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '[PRE20]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: So the hypothesis we’ll test is whether pregnancy length is generally longer
    for first babies. The null hypothesis is that pregnancy lengths are actually the
    same for both groups, and the apparent difference is due to chance. If pregnancy
    lengths are the same for both groups, we can combine the two groups into a single
    pool. To simulate the experiment, we can use the NumPy function `shuffle` to put
    the pooled values in random order, and then use slice indexes to select two groups
    with the same sizes as the original.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们将要测试的假设是初生儿的孕期是否通常更长。零假设是两组的孕期实际上相同，而明显的差异是由于偶然性造成的。如果两组的孕期相同，我们可以将两组合并成一个单一的池子。为了模拟实验，我们可以使用NumPy函数`shuffle`将合并的值随机排序，然后使用切片索引选择与原始大小相同的两组。
- en: '[PRE21]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Each time we call this function, it returns a tuple of sequences, which we can
    pass to `abs_diff_means`.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 每次我们调用这个函数时，它都会返回一个序列的元组，我们可以将其传递给`abs_diff_means`。
- en: '[PRE22]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '[PRE23]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: The following loop simulates the experiment many times and computes the difference
    in means for each simulated dataset.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 以下循环模拟实验多次，并计算每个模拟数据集的均值差异。
- en: '[PRE24]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: To visualize the results, we’ll use the following function, which takes a sample
    of simulated results and makes a `Pmf` object that approximates its distribution.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 为了可视化结果，我们将使用以下函数，它接受模拟结果的样本并创建一个近似其分布的`Pmf`对象。
- en: '[PRE25]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: We’ll also use this function, which fills in the tail of the distribution.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将使用这个函数，它填充分布的尾部。
- en: '[PRE26]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Here’s what the distribution of the simulated results looks like. The shaded
    region shows the cases where the difference in means under the null hypothesis
    exceeds the observed difference. The area of this region is the p-value.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 这是模拟结果的分布情况。阴影区域表示在零假设下均值差异超过观察到的差异的情况。这个区域的面积就是p值。
- en: '[PRE27]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '![_images/81d6c7139c0577b81d5868d0444eefc2cb3b4af8c6682b69f0e12ee8b12762f4.png](../Images/5f451e1acdc3326601b708c5225005f2.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/5f451e1acdc3326601b708c5225005f2.png)'
- en: The following function computes the p-value, which is the fraction of simulated
    values that are as big or bigger than the observed value.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 以下函数计算p值，即模拟值中大于或等于观察值的比例。
- en: '[PRE28]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: In this example, the p-value is about 18%, which means it is plausible that
    a difference as big as 0.078 weeks could happen by chance.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，p值大约是18%，这意味着有0.078周这样的差异可能是偶然发生的。
- en: '[PRE29]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '[PRE30]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Based on this result, we can’t be sure that pregnancy lengths are generally
    longer for first babies – it’s possible that the difference in this dataset is
    due to chance.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这个结果，我们不能确定怀孕长度对于第一个孩子来说通常会更长——这个数据集中的差异可能是偶然发生的。
- en: 'Notice that we’ve seen the same elements in both examples of hypothesis testing:
    a test statistic, a null hypothesis, and a model of the null hypothesis. In this
    example, the test statistic is the absolute difference in the means. The null
    hypothesis is that the distribution of pregnancy lengths is actually the same
    in both groups. And we modeled the null hypothesis by combining the data from
    both groups into a single pool, shuffling the pool, and splitting it into two
    groups with the same sizes as the originals. This process is called **permutation**,
    which is another word for shuffling.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们在两个假设检验的例子中都看到了相同的元素：一个检验统计量、一个零假设和零假设的模型。在这个例子中，检验统计量是均值之间的绝对差异。零假设是怀孕长度的分布实际上在两组中是相同的。我们通过将两组数据合并到一个池中，打乱池中的数据，并将其分成与原始大小相同的两组来模拟零假设。这个过程被称为**排列**，也就是打乱的意思。
- en: This computational approach to hypothesis testing makes it easy to combine these
    elements to test different statistics.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这种假设检验的计算方法使得将不同统计量结合起来进行测试变得容易。
- en: Other Test Statistics
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他检验统计量
- en: We might wonder whether pregnancy lengths for first babies are not just longer,
    but maybe more variable. To test that hypothesis, we can use as a test statistic
    the absolute difference between the standard deviations of the two groups. The
    following function computes this test statistic.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可能会想知道，对于第一个孩子来说，怀孕长度不仅仅是更长，也许还更不稳定。为了测试这个假设，我们可以使用两组标准差之间的绝对差异作为检验统计量。以下函数计算这个检验统计量。
- en: '[PRE31]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: In the NSFG dataset, the difference in standard deviations is about 0.18.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在NSFG数据集中，标准差之间的差异大约是0.18。
- en: '[PRE32]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '[PRE33]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: To see whether this difference might be due to chance, we can use permutation
    again. The following loop simulates the null hypothesis many times and computes
    the difference in standard deviation for each simulated dataset.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 为了看看这个差异是否可能是偶然发生的，我们可以再次使用排列。以下循环模拟零假设多次，并计算每个模拟数据集的标准差差异。
- en: '[PRE34]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Here’s what the distribution of the results looks like. Again, the shaded region
    shows where the test statistic under the null hypothesis exceeds the observed
    difference.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 这是结果分布的情况。同样，阴影区域表示在零假设下检验统计量超过观察到的差异的情况。
- en: '[PRE35]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '![_images/b8c12d0e47568c186f13da71da99b26caeb16994a333ef5b4b40a75664b5f418.png](../Images/f165cc702fda51a8c6a4274707cfd956.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/f165cc702fda51a8c6a4274707cfd956.png)'
- en: We can estimate the area of this region by computing the fraction of results
    that are as big or bigger than the observed difference.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过计算结果中大于或等于观察到的差异的比例来估计这个区域的面积。
- en: '[PRE36]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '[PRE37]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: The p-value is about 0.17, so it is plausible that we could see a difference
    this big even if the two groups are the same. In conclusion, we can’t be sure
    that pregnancy lengths are generally more variable for first babies – the difference
    we see in this dataset could be due to chance.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: p值大约是0.17，所以即使两个组相同，我们也能看到这么大的差异是有可能的。总之，我们不能确定孕妇的怀孕长度通常对第一个孩子来说更具有变异性——我们在这个数据集中看到的不同可能是偶然的。
- en: '## Testing a Correlation'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '## 测试相关性'
- en: We can use the same framework to test correlations. For example, in the NSFG
    data set, there is a correlation between birth weight and mother’s age – older
    mothers have heavier babies, on average. But could this effect be due to chance?
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用相同的框架来测试相关性。例如，在NSFG数据集中，出生体重和母亲年龄之间存在相关性——年龄较大的母亲平均有更重的婴儿。但这种效果可能是偶然的吗？
- en: To find out, we’ll start by preparing the data. From live births, we’ll select
    cases where the age of the mother and birth weight are known.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 为了找出答案，我们将首先准备数据。从活产中，我们将选择母亲年龄和出生体重都已知的情况。
- en: '[PRE38]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '[PRE39]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Then we’ll select the relevant columns.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将选择相关的列。
- en: '[PRE40]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: The following function takes a tuple of `xs` and `ys` and computes the magnitude
    of the correlation, positive or negative.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 以下函数接受一个包含`xs`和`ys`的元组，并计算相关性的幅度，无论是正还是负。
- en: '[PRE41]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: In the NSFG dataset, the correlation is about 0.07.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在NSFG数据集中，相关性约为0.07。
- en: '[PRE42]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '[PRE43]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: The null hypothesis is that there is no correlation between mother’s age and
    birth weight. By shuffling the observed values, we can simulate a world where
    the distributions of age and birth weight are the same, but where the variables
    are unrelated.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 原假设是母亲年龄和出生体重之间没有相关性。通过打乱观察到的值，我们可以模拟一个年龄和出生体重分布相同，但变量无关的世界。
- en: The following function takes a tuple of `xs` and `ys`, shuffles `xs` and returns
    a tuple containing the shuffled `xs` and the original `ys`. It would also work
    if we shuffled the `ys` instead, or shuffled both.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 以下函数接受一个包含`xs`和`ys`的元组，打乱`xs`并返回一个包含打乱后的`xs`和原始`ys`的元组。如果我们将`ys`打乱，或者两者都打乱，它也会工作。
- en: '[PRE44]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: The correlation of the shuffled values is usually close to 0.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 打乱值的相关性通常接近0。
- en: '[PRE45]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '[PRE46]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: The following loop generates many shuffled datasets and computes the correlation
    of each one.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 以下循环生成许多打乱的数据集，并计算每个数据集的相关性。
- en: '[PRE47]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Here’s what the distribution of the results looks like. The vertical dotted
    line shows the observed correlation.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是结果分布的图示。垂直虚线表示观察到的相关性。
- en: '[PRE48]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '![_images/13f0b2847c5affed82786df164109c3381eaca6f5bb8a72c941468da3a31b613.png](../Images/db72472b65ca6709d8abdf0c5824445e.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/db72472b65ca6709d8abdf0c5824445e.png)'
- en: We can see that the observed correlation is in the tail of the distribution,
    with no visible area under the curve. If we try to compute a p-value, the result
    is 0, indicating that the correlation in the shuffled data did not exceed the
    observed value in any of the simulations.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到观察到的相关性位于分布的尾部，曲线下没有可见的区域。如果我们尝试计算p值，结果是0，这表明在模拟中，打乱数据中的相关性没有超过观察到的值。
- en: '[PRE49]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '[PRE50]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Based on this calculation, we can conclude that the p-value is probably less
    that 1 per 1000, but it is not actually zero. It is unlikely for the correlation
    of the shuffled data to exceed the observed value – but it is not impossible.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这个计算，我们可以得出结论，p值可能小于1000分之一，但实际上并不是零。打乱数据的相关性超过观察值的可能性不大——但并非不可能。
- en: When the p-value is small, traditionally less than 0.05, we can say that the
    result is **statistically significant**. But this way of interpreting p-values
    has always been problematic, and it is slowly becoming less widely used.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 当p值很小，传统上小于0.05时，我们可以说结果是**统计显著的**。但这种解释p值的方式一直存在问题，并且它正在逐渐被更少地使用。
- en: One problem is that the traditional threshold is arbitrary and not appropriate
    for all applications. Another problem is that this use of “significant” is misleading
    because it suggests that the effect is important in practice. The correlation
    between mother’s age and birth weight is a good example – it is statistically
    significant, but so small that it is not important.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 一个问题是传统的阈值是任意的，并不适用于所有应用。另一个问题是这种对“显著”的使用具有误导性，因为它暗示这种效果在实践中很重要。母亲年龄与出生体重的相关性是一个很好的例子——它在统计上显著，但如此之小，以至于并不重要。
- en: An alternative is to interpret p-values qualitatively.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种方法是定性解释p值。
- en: If a p-value is large, it is plausible that the observed effect could happen
    by chance.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果p值很大，那么观察到的效果可能只是偶然发生的。
- en: 'If the p-value is small, we can often rule out the possibility that the effect
    is due to chance – but we should remember that it could still be due to non-representative
    sampling or measurement errors.  ## Testing Proportions'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '## 比例测试'
- en: As a final example, let’s consider a case where the choice of the test statistic
    takes some thought. Suppose you run a casino and you suspect that a customer is
    using a crooked die – that is, one that has been modified to make one of the faces
    more likely than the others. You apprehend the alleged cheater and confiscate
    the die, but now you have to prove that it is crooked. You roll the die 60 times
    and record the frequency of each outcome from 1 to 6. Here are the results in
    a `Hist` object.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 作为最后的例子，让我们考虑一个需要仔细思考测试统计量选择的情况。假设你经营一家赌场，你怀疑一位顾客正在使用一个不诚实的骰子——也就是说，一个被修改过，使得其中一个面比其他面更有可能出现的骰子。你逮捕了这位被怀疑的作弊者并没收了骰子，但现在你必须证明这个骰子是不诚实的。你掷了60次骰子，并记录了从1到6每个结果的频率。这里是在`Hist`对象中的结果。
- en: '[PRE51]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '|  | freqs |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '|  | 频率 |'
- en: '| --- | --- |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| outcome |  |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 8 |'
- en: '| --- | --- |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: 观察数据的卡方统计量是11.6。这个数字本身并没有什么意义，但我们可以将其与模拟掷骰子的结果进行比较。以下循环生成许多模拟数据集，并为每个数据集计算卡方统计量。
- en: '| 1 | 8 |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: 如果p值很小，我们通常可以排除效果是偶然发生的可能性——但我们应该记住，它仍然可能是由于非代表性抽样或测量误差。
- en: '| 2 | 9 |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 9 |'
- en: '| 3 | 19 |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 19 |'
- en: '| 4 | 5 |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 5 |'
- en: '| 5 | 8 |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 8 |'
- en: '| 6 | 11 |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 11 |'
- en: On average you expect each value to appear 10 times. In this dataset, the value
    3 appears more often than expected, and the value 4 appears less often. But could
    these differences happen by chance?
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 平均来说，你期望每个值出现10次。在这个数据集中，值3比预期出现得更频繁，而值4出现得更少。但这些差异可能是偶然发生的吗？
- en: To test this hypothesis, we’ll start by computing the expected frequency for
    each outcome.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试这个假设，我们首先将计算每个结果的预期频率。
- en: '[PRE52]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: The following function takes the observed and expected frequencies and computes
    the sum of the absolute differences.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 以下函数接受观察到的和预期的频率，并计算绝对差异的总和。
- en: '[PRE53]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: In the observed dataset, this test statistic is 20.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在观察到的数据集中，这个测试统计量是20。
- en: '[PRE54]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '[PRE55]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: The following function takes the observed data, simulates rolling a fair die
    the same number of times, and returns a `Hist` object that contains the simulated
    frequencies.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 以下函数接受观察到的数据，模拟掷一个公平的骰子相同次数，并返回一个包含模拟频率的`Hist`对象。
- en: '[PRE56]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: The following loop simulates the experiment many times and computes the total
    absolute deviation for each one.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 以下循环多次模拟实验，并计算每个的绝对偏差总和。
- en: '[PRE57]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Here’s what the distribution of the test statistic looks like under the null
    hypothesis. Notice that the total is always even, because every time an outcome
    appears more often than expected, another outcome has to appear less often.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是测试统计量在零假设下的分布情况。注意，总数总是偶数，因为每次一个结果比预期出现得更频繁时，另一个结果就必须出现得更少。
- en: '[PRE58]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '![_images/5d7743f38a1eac8ca1cf10492e5cf1c48871dc6438957ffc7779e99c151dc2a7.png](../Images/f35961f248e3137b8311191357531d0c.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![_images/5d7743f38a1eac8ca1cf10492e5cf1c48871dc6438957ffc7779e99c151dc2a7.png](../Images/f35961f248e3137b8311191357531d0c.png)'
- en: We can see that a total deviation of 20 is not unusual – the p-value is about
    13%, which means that we can’t be sure the die is crooked.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，总偏差为20并不罕见——p值约为13%，这意味着我们无法确定骰子是不诚实的。
- en: '[PRE59]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '[PRE60]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: But the test statistic we chose was not the only option. For a problem like
    this, it would be more conventional to use the chi-squared statistic, which we
    can compute like this.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 但我们选择的测试统计量并不是唯一的选择。对于这样的问题，使用卡方统计量会更传统，我们可以这样计算。
- en: '[PRE61]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: Squaring the deviations (rather than taking absolute values) gives more weight
    to large deviations. Dividing through by `expected` standardizes the deviations
    – although in this case it has no effect on the results because the expected frequencies
    are all equal.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 将偏差平方（而不是取绝对值）会给大的偏差更多的权重。通过除以`expected`来标准化偏差——尽管在这种情况下它对结果没有影响，因为预期的频率都是相等的。
- en: '[PRE62]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '[PRE63]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: The chi-squared statistic of the observed data is 11.6. By itself, this number
    doesn’t mean very much, but we can compare it to the results from the simulated
    rolls. The following loop generates many simulated datasets and computes the chi-squared
    statistic for each one.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '| 结果 |  |'
- en: '[PRE64]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Here’s what the distribution of this test statistic looks like under the null
    hypothesis. The shaded region shows the results that exceed the observed value.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是这种检验统计量在零假设下的分布情况。阴影区域显示了超过观察值的结果。
- en: '[PRE65]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '![_images/0926b356306842c735f4b20897a267d1115265c91109c553776b3382d5b099c6.png](../Images/0b28b7eb8065f72d9b5314eb0beb20f2.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/0b28b7eb8065f72d9b5314eb0beb20f2.png)'
- en: Again, the area of the shaded region is the p-value.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，阴影区域的面积是p值。
- en: '[PRE66]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: '[PRE67]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: The p-value using the chi-squared statistic is about 0.04, substantially smaller
    than what we got using total deviation, 0.13. If we take the 5% threshold seriously,
    we would consider this effect statistically significant. But considering the two
    tests together, I would say that the results are inconclusive. I would not rule
    out the possibility that the die is crooked, but I would not convict the accused
    cheater.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 使用卡方统计量的p值大约为0.04，这比我们使用总偏差得到的0.13小得多。如果我们认真对待5%的阈值，我们会认为这个效应具有统计学意义。但考虑到两个测试的结果，我会说结论并不明确。我不会排除骰子是弯曲的可能性，但我也不会宣判这个被指控的作弊者有罪。
- en: 'This example demonstrates an important point: the p-value depends on the choice
    of test statistic and the model of the null hypothesis, and sometimes these choices
    determine whether an effect is statistically significant or not.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子演示了一个重要的观点：p值取决于检验统计量的选择和零假设模型，有时这些选择决定了效应是否具有统计学意义。
- en: Glossary
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 术语表
- en: '**hypothesis testing**: A set of methods for checking whether an observed effect
    could plausibly be due to random sampling.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**假设检验**：一组用于检查观察到的效应是否可能是随机抽样的结果的方法。'
- en: '**test statistic**: A statistic used in a hypothesis test to quantify the size
    of an observed effect.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**检验统计量**：在假设检验中用于量化观察到的效应大小的统计量。'
- en: '**null hypothesis**: A model of a system based on the assumption that an effect
    observed in a sample does not exist in the population.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**零假设**：基于样本中观察到的效应在总体中不存在的假设的系统模型。'
- en: '**permutation**: A way to simulate a null hypothesis by randomly shuffling
    a dataset.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**排列**：通过随机重新排列数据集来模拟零假设的方法。'
- en: '**p-value**: The probability of an effect as big as the observed effect, under
    a null hypothesis.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**p值**：在零假设下，效应与观察到的效应一样大的概率。'
- en: '**statistically significant**: An effect is statistically significant if the
    p-value is smaller than a chosen threshold, often 5%. In a large dataset, an observed
    effect can be statistically significant even if it is too small to matter in practice.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**具有统计学意义**：如果p值小于选定的阈值，通常为5%，则效应具有统计学意义。在大数据集中，即使观察到的效应在实际中太小而不重要，也可能具有统计学意义。'
- en: Exercises
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习
- en: Exercise 9.1
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习9.1
- en: Let’s try hypothesis testing with the penguin data from [Chapter 8](chap08.html#section-sampling-distributions).
    Instructions for downloading the data are in the notebook for this chapter.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试使用[第8章](chap08.html#section-sampling-distributions)中的企鹅数据来进行假设检验。下载数据的说明在本书的笔记本中。
- en: The following cell downloads the data from a repository created by Allison Horst.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的单元格从由Allison Horst创建的存储库中下载数据。
- en: 'Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica)
    penguin data. R package version 0.1.0\. [https://allisonhorst.github.io/palmerpenguins/](https://allisonhorst.github.io/palmerpenguins/).
    doi: 10.5281/zenodo.3960218.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 'Horst AM, Hill AP, Gorman KB (2020). palmerpenguins：帕默群岛（南极）企鹅数据。R包版本0.1.0。[https://allisonhorst.github.io/palmerpenguins/](https://allisonhorst.github.io/palmerpenguins/).
    doi: 10.5281/zenodo.3960218。'
- en: 'The data was collected as part of the research that led to this paper: Gorman
    KB, Williams TD, Fraser WR (2014). Ecological sexual dimorphism and environmental
    variability within a community of Antarctic penguins (genus Pygoscelis). PLoS
    ONE 9(3):e90081\. [https://doi.org/10.1371/journal.pone.0090081](https://doi.org/10.1371/journal.pone.0090081)'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据是作为导致本文的研究的一部分收集的：Gorman KB, Williams TD, Fraser WR (2014).南极企鹅（属Pygoscelis）群落中的生态性两性差异和环境可变性。PLOS
    ONE 9(3):e90081。[https://doi.org/10.1371/journal.pone.0090081](https://doi.org/10.1371/journal.pone.0090081)
- en: '[PRE68]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: Here’s how we read the data and select the Chinstrap penguins.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是如何读取数据和选择帝企鹅的示例。
- en: '[PRE69]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '[PRE70]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: And here’s how we can extract the weights for male and female penguins in kilograms.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们可以如何提取雄性和雌性企鹅的重量（千克）。
- en: '[PRE71]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '[PRE72]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: '[PRE73]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '[PRE74]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: Use `abs_diff_means` and `simulate_groups` to generate a large number of simulated
    datasets under the null hypothesis that the two groups have the same distribution
    of weights, and compute the difference in means for each one. Compare the simulation
    results to the observed difference and compute a p-value. Is it plausible that
    the apparent difference between the groups is due to chance?
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`abs_diff_means`和`simulate_groups`在两组权重分布相同的零假设下生成大量模拟数据集，并计算每个数据集的均值差异。将模拟结果与观察到的差异进行比较，并计算p值。两组之间明显的差异是否可能是偶然造成的？
- en: Exercise 9.2
  id: totrans-190
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习9.2
- en: Using the penguin data from the previous exercise, we can extract the culmen
    depths and lengths for the female penguins (the culmen is the top ridge of the
    bill).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前一个练习中的企鹅数据，我们可以提取雌性企鹅的喙顶深度和长度（喙顶是喙的顶部脊）。
- en: '[PRE75]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: The correlation between these variables is about 0.26.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 这些变量之间的相关系数约为0.26。
- en: '[PRE76]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: '[PRE77]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: Let’s see whether this correlation could happen by chance, even if there is
    actually no correlation between the measurements. Use `permute` to generate many
    permutations of this data and `abs_correlation` to compute the correlation for
    each one. Plot the distribution of the correlations under the null hypothesis
    and compute a p-value for the observed correlation. How do you interpret the result?
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看这种相关性是否可能偶然发生，即使实际上测量之间没有相关性。使用`permute`生成数据的多种排列，并使用`abs_correlation`计算每个排列的相关性。在零假设下绘制相关性的分布，并计算观察到的相关性的p值。你如何解释这个结果？
- en: '[Think Stats: Exploratory Data Analysis in Python, 3rd Edition](https://allendowney.github.io/ThinkStats/index.html)'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '[Think Stats: Exploratory Data Analysis in Python, 3rd Edition](https://allendowney.github.io/ThinkStats/index.html)'
- en: Copyright 2024 [Allen B. Downey](https://allendowney.com)
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 版权所有 2024 [艾伦·B·唐尼](https://allendowney.com)
- en: 'Code license: [MIT License](https://mit-license.org/)'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 代码许可：[MIT License](https://mit-license.org/)
- en: 'Text license: [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International](https://creativecommons.org/licenses/by-nc-sa/4.0/)'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 文本许可：[Creative Commons Attribution-NonCommercial-ShareAlike 4.0 国际](https://creativecommons.org/licenses/by-nc-sa/4.0/)
