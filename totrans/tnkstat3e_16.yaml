- en: Analytic Methods
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 解析方法
- en: 原文：[https://allendowney.github.io/ThinkStats/chap14.html](https://allendowney.github.io/ThinkStats/chap14.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://allendowney.github.io/ThinkStats/chap14.html](https://allendowney.github.io/ThinkStats/chap14.html)
- en: This book has focused on computational methods like simulation and resampling,
    but some of the problems we solved have analytic solutions that can be much faster
    to compute.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书一直关注计算方法，如模拟和重采样，但我们解决的一些问题有解析解，这些解可以更快地计算。
- en: This chapter presents some of these methods and explains how they work. At the
    end of the chapter, I make suggestions for integrating computational and analytic
    methods for data analysis.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了一些这些方法，并解释了它们是如何工作的。在章节末尾，我提出了一些建议，关于如何将计算和分析方法整合到数据分析中。
- en: '[Click here to run this notebook on Colab](https://colab.research.google.com/github/AllenDowney/ThinkStats/blob/v3/nb/chap14.ipynb).'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[在此处运行此笔记本](https://colab.research.google.com/github/AllenDowney/ThinkStats/blob/v3/nb/chap14.ipynb)。'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Normal Probability Plots
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 正态概率图
- en: 'Many analytic methods are based on the properties of the normal distribution,
    for two reasons: distributions of many measurements in the real world are well-approximated
    by normal distributions, and normal distributions have mathematical properties
    that make them useful for analysis.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 许多解析方法基于正态分布的性质，原因有两个：现实世界中许多测量的分布很好地近似于正态分布，而且正态分布具有使它们对分析有用的数学性质。
- en: To demonstrate the first point, we’ll look at some of the measurements in the
    penguin dataset. Then we’ll explore the mathematical properties of the normal
    distribution. Instructions for downloading the data are in the notebook for this
    chapter.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 为了证明第一个观点，我们将查看企鹅数据集中的某些测量值。然后我们将探索正态分布的数学特性。下载数据的说明在本书的笔记本中。
- en: The following cell downloads the data from a repository created by Allison Horst.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个单元格将从Allison Horst创建的存储库中下载数据。
- en: 'Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica)
    penguin data. R package version 0.1.0\. [https://allisonhorst.github.io/palmerpenguins/](https://allisonhorst.github.io/palmerpenguins/).
    doi: 10.5281/zenodo.3960218.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 'Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: 帕默群岛（南极）企鹅数据。R包版本0.1.0。[https://allisonhorst.github.io/palmerpenguins/](https://allisonhorst.github.io/palmerpenguins/).
    doi: 10.5281/zenodo.3960218.'
- en: 'The data was collected as part of the research that led to this paper: Gorman
    KB, Williams TD, Fraser WR (2014). Ecological sexual dimorphism and environmental
    variability within a community of Antarctic penguins (genus Pygoscelis). PLoS
    ONE 9(3):e90081\. [https://doi.org/10.1371/journal.pone.0090081](https://doi.org/10.1371/journal.pone.0090081)'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 数据是作为导致这篇论文的研究的一部分收集的：Gorman KB, Williams TD, Fraser WR (2014).南极企鹅（属Pygoscelis）群落中的生态性两性差异和环境可变性。PLoS
    ONE 9(3):e90081。[https://doi.org/10.1371/journal.pone.0090081](https://doi.org/10.1371/journal.pone.0090081)
- en: '[PRE3]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: We can read the data like this.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以像这样读取数据。
- en: '[PRE4]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The dataset contains measurements from three penguin species. For this example,
    we’ll select the Adélie penguins.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集包含三种企鹅物种的测量值。在这个例子中，我们将选择阿德利企鹅。
- en: '[PRE6]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: To see if penguin weights follow a normal distribution, we’ll compute the empirical
    CDF of the data.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 为了查看企鹅体重是否遵循正态分布，我们将计算数据的经验累积分布函数（CDF）。
- en: '[PRE8]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: And we’ll compute the analytic CDF of a normal distribution with the same mean
    and standard deviation.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将计算具有相同均值和标准差的正态分布的解析累积分布函数（CDF）。
- en: '[PRE9]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[PRE10]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[PRE11]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Here’s what the CDF of the data looks like compared to the normal model.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这是数据与正态模型相比的累积分布函数（CDF）的样子。
- en: '[PRE12]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![_images/9a8e665b64947ce1df5c9f8f7bde385b1fbfeff8d4d5872fbf739f23334e2197.png](../Images/62ff50eeea4aad9d47284c707539dfd2.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/62ff50eeea4aad9d47284c707539dfd2.png)'
- en: The normal distribution might be a good enough model of this data, but it’s
    certainly not a perfect fit.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布可能足以作为这些数据的模型，但它肯定不是完美的拟合。
- en: In general, plotting the CDF of the data and the CDF of a model is a good way
    to evaluate how well the model fits the data. But one drawback of this method
    is that it depends on how well we estimate the parameters of the model – in this
    example, the mean and standard deviation.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，绘制数据的累积分布函数（CDF）和模型的累积分布函数是一种评估模型拟合数据好坏的好方法。但这种方法的一个缺点是它依赖于我们对模型参数估计的好坏——在这个例子中，是均值和标准差。
- en: An alternative is a **normal probability plot**, which does not depend on our
    ability to estimate parameters. In a normal probability plot the \(y\) values
    are the sorted measurements.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选择是**正态概率图**，它不依赖于我们估计参数的能力。在正态概率图中，\(y\)值是排序后的测量值。
- en: '[PRE13]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: And the \(x\) values are the corresponding percentiles of a normal distribution,
    computed using the `ppf` method of the `norm` object, which computes the “percent
    point function”, which is the inverse CDF.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 而\(x\)值是正态分布的相应百分位数，使用`norm`对象的`ppf`方法计算，该方法计算“百分位数函数”，即逆CDF。
- en: '[PRE14]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: If the measurements are actually drawn from a normal distribution, the \(y\)
    and \(x\) values should fall on a straight line. To see how well they do, we can
    use `linregress` to fit a line.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果测量值实际上是从正态分布中抽取的，那么\(y\)和\(x\)值应该落在一条直线上。为了看看它们做得如何，我们可以使用`linregress`来拟合一条线。
- en: '[PRE15]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The following figure shows the \(x\) and \(y\) values along with the fitted
    line.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了\(x\)和\(y\)值以及拟合的线。
- en: '[PRE16]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![_images/ee75bd9cc7810d5af27c91f274b525a5360c747772232f8e1cda9fd37d207875.png](../Images/458e42ad190b4824acaca1953d4bd2c9.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/458e42ad190b4824acaca1953d4bd2c9.png)'
- en: The normal probability plot is not a perfectly straight line, which indicates
    that the normal distribution is not a perfect model for this data.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 正态概率图不是一条完美的直线，这表明正态分布不是这个数据的完美模型。
- en: One reason is that the dataset includes male and female penguins, and the two
    groups have different means – let’s see what happens if we plot the groups separately.
    The following function encapsulates the steps we used to make a normal probability
    plot.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 原因之一是数据集包括雄性和雌性企鹅，两组的平均值不同——让我们看看如果我们分别绘制这两组会发生什么。以下函数封装了我们用来制作正态概率图的步骤。
- en: '[PRE17]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Here’s what the results look like for male and female penguins separately.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是分别对雄性和雌性企鹅的结果。
- en: '[PRE18]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![_images/08b4e496844a147578d0273f68610e8a9cb0e2ed5d4ad465e5e3c2bba9fe6c46.png](../Images/9f9c2a9ad5ded5805244678fd3320af9.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/9f9c2a9ad5ded5805244678fd3320af9.png)'
- en: The normal probability plots for both groups are close to a straight line, which
    indicates that the distributions of weight follow normal distributions. When we
    put the groups together, the distribution of their weights is a mixture of two
    normal distributions with different means – and a mixture like that is not always
    well modeled by a normal distribution.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 两组的正态概率图都接近一条直线，这表明重量的分布遵循正态分布。当我们把这两组放在一起时，它们的重量分布是两个具有不同均值的正态分布的混合——这样的混合并不总是由正态分布很好地建模。
- en: Now let’s consider some of the mathematical properties of normal distributions
    that make them so useful for analysis.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们考虑一些使正态分布对分析非常有用的数学特性。
- en: Normal Distributions
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 正态分布
- en: The following class defines an object that represents a normal distribution.
    It contains as attributes the parameters `mu` and `sigma2`, which represent the
    mean and variance of the distribution. The name `sigma2` is a reminder that variance
    is the square of the standard deviation, which is usually denoted `sigma`.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的类定义了一个表示正态分布的对象。它包含作为属性的参数`mu`和`sigma2`，它们分别代表分布的均值和方差。`sigma2`这个名字是一个提醒，方差是标准差的平方，通常表示为`sigma`。
- en: '[PRE19]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: As an example, we’ll create a `Normal` object that represents a normal distribution
    with the same mean and variance as the weights of the male penguins.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们将创建一个表示与雄性企鹅的重量具有相同均值和方差的正态分布的`Normal`对象。
- en: '[PRE20]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '[PRE21]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: And another `Normal` object with the same mean and variance as the weights of
    the female penguins.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个与雌性企鹅的均值和方差相同的`Normal`对象。
- en: '[PRE22]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '[PRE23]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Next we’ll add a method to the `Normal` class that generates a random sample
    from a normal distribution. To add methods to an existing class, we’ll use a Jupyter
    magic command, `add_method_to`, which is defined in the `thinkstats` module. This
    command is not part of Python – it only works in Jupyter notebooks.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将向`Normal`类添加一个方法，该方法可以从正态分布中生成一个随机样本。为了向现有类添加方法，我们将使用一个Jupyter魔法命令`add_method_to`，该命令定义在`thinkstats`模块中。这个命令不是Python的一部分——它仅在Jupyter笔记本中工作。
- en: '[PRE24]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'We’ll use `sample` to demonstrate the first useful property of a normal distribution:
    if you draw values from two normal distributions and add them, the distribution
    of the sum is also normal.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用`sample`来展示正态分布的第一个有用特性：如果你从两个正态分布中抽取值并将它们相加，总和的分布也是正态的。
- en: As an example, we’ll generate samples from the `Normal` objects we just made,
    add them together, and make a normal probability plot of the sums.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们将从我们刚才创建的`Normal`对象中生成样本，将它们相加，并制作总和的正态概率图。
- en: '[PRE25]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '![_images/33b567cbcfadb8b65eac37a8651c71cadf7ba8050819c06189d16430ccc37478.png](../Images/06575c803a0393e6266f6ff63498af9e.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06575c803a0393e6266f6ff63498af9e.png)'
- en: The normal probability plot looks like a straight line, which indicates that
    the sums follow a normal distribution. And that’s not all – if we know the parameters
    of the two distributions, we can compute the parameters of the distribution of
    the sum. The following method shows how.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 正态概率图看起来像一条直线，这表明总和遵循正态分布。不仅如此——如果我们知道两个分布的参数，我们还可以计算总和分布的参数。以下方法展示了如何。
- en: '[PRE26]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: In the distribution of the sum, the mean is the sum of the means and the variance
    is the sum of the variances. Now that we’ve defined the special method `__add__`,
    we can use the `+` operator to “add” two distributions – that is, to compute the
    distribution of their sum.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在总和的分布中，均值是均值的总和，方差是方差的和。现在我们已经定义了特殊方法`__add__`，我们可以使用`+`运算符来“相加”两个分布——也就是说，计算它们的总和的分布。
- en: '[PRE27]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '[PRE28]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: To confirm that this result is correct, we’ll use the following method, which
    plots the analytic CDF of a normal distribution.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确认这个结果是正确的，我们将使用以下方法，它绘制了正态分布的解析CDF。
- en: '[PRE29]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Here’s the result along with the empirical CDF of the sum of the random samples.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这是结果，以及随机样本总和的经验CDF。
- en: '[PRE30]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '![_images/735bf59b3c32e52a9510e4cd08aa8a167823e52e9fedda2778932a3b80014ab5.png](../Images/659441ee652a9e4b945bb30ea0117327.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/659441ee652a9e4b945bb30ea0117327.png)'
- en: It looks like the parameters we computed are correct, which confirms that we
    can add two normal distributions by adding their means and variances.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来我们计算出的参数是正确的，这证实了我们可以通过相加均值和方差来“相加”两个正态分布。
- en: As a corollary, if we generate `n` values from a normal distribution and add
    them up, the distribution of the sum is also a normal distribution. To demonstrate,
    we’ll start by generating 73 values from the distribution of male weights and
    adding them up. The following loop does that 1001 times, so the result is a sample
    from the distribution of sums.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 作为推论，如果我们从一个正态分布中生成`n`个值并将它们相加，那么总和的分布也是一个正态分布。为了演示，我们将首先从男性体重的分布中生成73个值并将它们相加。下面的循环重复1001次，因此结果是总和分布的一个样本。
- en: '[PRE31]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '[PRE32]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: The following method makes a `Normal` object that represents the distribution
    of the sums. To compute the parameters, we multiply both the mean and variance
    by `n`.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 以下方法创建了一个`Normal`对象，它代表了总和的分布。为了计算参数，我们将均值和方差都乘以`n`。
- en: '[PRE33]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Here’s the distribution of the sum of `n` weights.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 这是`n`个重量的总和的分布。
- en: '[PRE34]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: And here’s how it compares to the empirical distribution of the random sample.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这是它与随机样本的经验分布的比较。
- en: '[PRE35]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '![_images/6c835d9609c5a715253f46fd2a9d60deadda0df552e1532d4ae1b5c4da9ef7b1.png](../Images/6e6afabc5ad7f5b9f61627e2cf39fa2e.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/6e6afabc5ad7f5b9f61627e2cf39fa2e.png)'
- en: The analytic distribution fits the distribution of the sample, which confirms
    that the `sum` method is correct. So if we collect a sample of `n` measurements,
    we can compute the distribution of their sum.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 解析分布与样本分布相匹配，这证实了`sum`方法是正确的。所以如果我们收集一个包含`n`个测量的样本，我们可以计算它们的总和的分布。
- en: Distribution of Sample Means
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 样本均值分布
- en: 'If we can compute the distribution of a sample sum, we can also compute the
    distribution of a sample mean. To do that, we’ll use a third property of a normal
    distribution: if we multiply or divide by a constant, the result is a normal distribution.
    The following methods show how we compute the parameters of the distribution of
    a product or quotient.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们可以计算样本总和的分布，我们也可以计算样本均值的分布。为了做到这一点，我们将使用正态分布的第三个性质：如果我们乘以或除以一个常数，结果仍然是一个正态分布。以下方法展示了我们如何计算乘积或商的分布的参数。
- en: '[PRE36]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '[PRE37]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: To compute the distribution of the product we multiply the mean by `factor`
    and the variance by the square of `factor`. We can use this property to compute
    the distribution of the sample means.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 为了计算乘积的分布，我们将均值乘以`factor`，将方差乘以`factor`的平方。我们可以使用这个性质来计算样本均值的分布。
- en: '[PRE38]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: To see if the result is correct, we’ll also compute the means of the random
    samples.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 为了查看结果是否正确，我们还将计算随机样本的均值。
- en: '[PRE39]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: And compare the normal model to the empirical CDF of the sample means.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 将正常模型与样本均值的经验累积分布函数（CDF）进行比较。
- en: '[PRE40]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '![_images/7d88dfb12c211ddbfd036362ac882a0b5e5036a574f1c85b5564ca4c0c6f7cb2.png](../Images/9e87e022efe163576039815838ea036c.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/9e87e022efe163576039815838ea036c.png)'
- en: The model and the simulation results agree, which shows that we can compute
    the distribution of the sample means analytically – which is very fast, compared
    to resampling.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 模型和模拟结果一致，这表明我们可以通过解析方法计算样本均值的分布——与重采样相比，这非常快。
- en: Now that we know the sampling distribution of the mean, we can use it to compute
    the standard error, which is the standard deviation of the sampling distribution.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道了均值的抽样分布，我们可以用它来计算标准误差，这是抽样分布的标准差。
- en: '[PRE41]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '[PRE42]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: This result suggests a shortcut we can use to compute the standard error directly,
    without computing the sampling distribution. In the sequence of steps we followed,
    we multiplied the variance by `n` and then divided by `n**2` – the net effect
    was to divide the variance by `n`, which means we divided the standard deviation
    by the square root of `n`.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 这个结果建议了一个我们可以用来直接计算标准误差的捷径，而不需要计算抽样分布。在我们遵循的步骤中，我们首先将方差乘以`n`，然后除以`n**2`——净效果是将方差除以`n`，这意味着我们将标准差除以`n`的平方根。
- en: So we can compute the standard error of the sample mean like this.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们可以这样计算样本均值的标准误差。
- en: '[PRE43]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '[PRE44]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Now let’s consider one more result we can compute with normal distributions,
    the distribution of differences.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们考虑另一个我们可以用正态分布计算的结果，即差分的分布。
- en: Distribution of Differences
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 差分分布
- en: Putting together the steps from the previous section, here’s how we can compute
    the distribution of sample means for the weights of the female penguins.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 将上一节中的步骤综合起来，以下是计算雌性企鹅体重样本均值分布的方法。
- en: '[PRE45]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '[PRE46]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Now we have sampling distributions for the average weight of male and female
    penguins – let’s compute the distribution of the differences. The following method
    computes the distribution of the difference between values from two normal distributions.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了雄性和雌性企鹅平均体重的抽样分布——让我们计算差分的分布。以下方法计算了两个正态分布值之间差分的分布。
- en: '[PRE47]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'As you might expect, the mean of the differences is the difference of the means.
    But as you might not expect, the variance of the differences is not the difference
    of the variances – it’s the sum! To see why, imagine we perform subtraction in
    two steps:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所料，差分的均值是均值的差。但正如你可能不会预料到的那样，差分的方差不是方差的差——它是总和！为了理解为什么，想象我们分两步进行减法：
- en: If we negate the second distribution, the mean is negated but the variance is
    the same.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们对第二个分布取反，均值会被取反，但方差保持不变。
- en: Then if we add in the first distribution, the variance of the sum is the sum
    of the variances.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，如果我们加入第一个分布，总和的方差是方差的和。
- en: If that doesn’t convince you, let’s test it. Here’s the analytic distribution
    of the differences.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这还不能说服你，让我们来测试它。以下是差分的解析分布。
- en: '[PRE48]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[PRE49]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: And here’s a random sample of differences.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个差分的随机样本。
- en: '[PRE50]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: The following figure shows the empirical CDF of the random sample and the analytic
    CDF of the normal distribution.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了随机样本的经验累积分布函数和正态分布的解析累积分布函数。
- en: '[PRE51]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '![_images/596c267b5ce8ac93fd569603318b1d2f34e2fa6ccce9cba0b17d308d1d531d23.png](../Images/c310c26a18ca847fd83d5d6e8789376a.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/c310c26a18ca847fd83d5d6e8789376a.png)'
- en: They agree, which confirms that we found the distribution of the differences
    correctly. We can use this distribution to compute a confidence interval for the
    difference in weights. We’ll use the following method to compute the inverse CDF.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 它们一致，这证实了我们正确地找到了差分的分布。我们可以使用这个分布来计算体重差异的置信区间。我们将使用以下方法来计算逆累积分布函数。
- en: '[PRE52]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: The 5th and 95th percentiles form a 90% confidence interval.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 第5百分位数和第95百分位数形成一个90%的置信区间。
- en: '[PRE53]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '[PRE54]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: We get approximately the same results from the random sample.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从随机样本中得到几乎相同的结果。
- en: '[PRE55]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '[PRE56]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: The analytic method is faster than resampling, and it is deterministic – that
    is, not random.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 解析方法比重采样更快，并且是确定的——也就是说，不是随机的。
- en: However, everything we’ve done so far is based on the assumption that the distribution
    of measurements is normal. That’s not always true – in fact, with real data it
    is never exactly true. But even if the distribution of the measurements isn’t
    normal, if we add up many measurements, the distribution of their sum is often
    close to normal. That is the power of the Central Limit Theorem.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们迄今为止所做的一切都是基于这样一个假设：测量的分布是正态的。这并不总是正确的——事实上，对于真实数据来说，它永远不是完全正确的。但即使测量的分布不是正态的，如果我们加起来很多测量值，它们的总和分布通常接近正态。这就是中心极限定理的力量。
- en: '## Central Limit Theorem'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '## 中心极限定理'
- en: As we saw in the previous sections, if we add values drawn from normal distributions,
    the distribution of the sum is normal. Most other distributions don’t have this
    property – for example, if we add values drawn from an exponential distribution,
    the distribution of the sum is not exponential.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前面的章节中看到的，如果我们加起来来自正态分布的值，总和的分布也是正态的。大多数其他分布没有这个特性——例如，如果我们加起来来自指数分布的值，总和的分布就不是指数分布。
- en: But for many distributions, if we generate `n` values and add them up, the distribution
    of the sum converges to normal as `n` increases. More specifically, if the distribution
    of the values has mean `m` and variance `s2` the distribution of the sum converges
    to a normal distribution with mean `n * m` and variance `n * s2`.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 但对于许多分布，如果我们生成`n`个值并将它们加起来，随着`n`的增加，总和的分布会收敛到正态分布。更具体地说，如果值的分布具有均值`m`和方差`s2`，总和的分布会收敛到具有均值`n
    * m`和方差`n * s2`的正态分布。
- en: 'That conclusion is the Central Limit Theorem (CLT). It is one of the most useful
    tools for statistical analysis, but it comes with caveats:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 这个结论就是中心极限定理（CLT）。它是统计分析中最有用的工具之一，但同时也伴随着一些注意事项：
- en: The values have to come from the same distribution (although this requirement
    can be relaxed).
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些值必须来自同一个分布（尽管这个要求可以放宽）。
- en: The values have to be drawn independently. If they are correlated, the CLT doesn’t
    apply (although it can still work if the correlation is not too strong).
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些值必须独立抽取。如果它们是相关的，中心极限定理不适用（尽管如果相关性不是很强，它仍然可以工作）。
- en: The values have to be drawn from a distribution with finite mean and variance.
    So the CLT doesn’t apply to some long-tailed distributions.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些值必须来自具有有限均值和方差的分布。因此，中心极限定理不适用于一些长尾分布。
- en: The Central Limit Theorem explains the prevalence of normal distributions in
    the natural world. Many characteristics of living things are affected by genetic
    and environmental factors whose effect is additive. The characteristics we measure
    are the sum of a large number of small effects, so their distribution tends to
    be normal.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 中心极限定理解释了正态分布在自然界中的普遍性。许多生物特征受到遗传和环境因素的累加效应的影响。我们测量的特征是大量小效应的总和，因此它们的分布倾向于正态分布。
- en: To see how the Central Limit Theorem works, and when it doesn’t, let’s try some
    experiments, starting with an exponential distribution. The following loop generates
    samples from an exponential distribution, adds them up, and makes a dictionary
    that maps from each sample size, `n`, to a list of 1001 sums.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 为了了解中心极限定理是如何工作的，以及它在何时不起作用，让我们尝试一些实验，从指数分布开始。下面的循环从指数分布中生成样本，将它们加起来，并创建一个字典，将每个样本大小`n`映射到一个包含1001个总和的列表。
- en: '[PRE57]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Here are the averages for each list of sums.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是每个总和列表的平均值。
- en: '[PRE58]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '[PRE59]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: The average value from this distribution is 1, so if we add up 10 values, the
    average of the sum is close to 10, and if we add up 100 values the average of
    the sum is close to 100.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这个分布的平均值是1，所以如果我们加起来10个值，总和的平均值接近10，如果我们加起来100个值，总和的平均值接近100。
- en: This function takes the `DataFrame` we just made and makes a normal probability
    plot for each list of sums.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 这个函数接受我们刚才制作的`DataFrame`，并为每个总和列表制作一个正常概率图。
- en: '[PRE60]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: The following figure shows normal probability plots for the three lists of sums
    (the definition of `normal_plot_samples` is in the notebook for this chapter).
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了三个总和列表的正常概率图（`normal_plot_samples`的定义在本章的笔记本中）。
- en: '[PRE61]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: '![_images/771475bfc28457c8034dd0715e4bc6d6dcd8e75838c03bfb8a49aaa1d3c4ae23.png](../Images/0108d89c99b952ef6e24398ee1d8d6b0.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/0108d89c99b952ef6e24398ee1d8d6b0.png)'
- en: When `n=1`, the distribution of the sum is exponential, so the normal probability
    plot is not a straight line. But with `n=10` the distribution of the sum is approximately
    normal, and with `n=100` it is almost indistinguishable from normal.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 当 `n=1` 时，总和的分布是指数分布，因此正态概率图不是一条直线。但是当 `n=10` 时，总和的分布近似为正态分布，当 `n=100` 时，几乎无法与正态分布区分。
- en: For distributions that are less skewed than an exponential, the distribution
    of the sum converges to normal more quickly – that is, for smaller values of `n`.
    For distributions that are more skewed, it takes longer. As an example, let’s
    look at sums of values from a lognormal distribution.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 对于比指数分布更倾斜的分布，总和的分布更快地收敛到正态分布——也就是说，对于较小的 `n` 值。对于更倾斜的分布，需要更长的时间。作为一个例子，让我们看看对数正态分布值的总和。
- en: '[PRE62]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: Here are the normal probability plots for the same range of sample sizes.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是相同样本量范围的正态概率图。
- en: '[PRE63]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '![_images/992059cdf6c2ff8c2aefa522b20aed972f30ffed9f8a5c38f86104666289e8fd.png](../Images/9018fbb8d29d90d22a11db5638999d03.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/9018fbb8d29d90d22a11db5638999d03.png)'
- en: When `n=1`, a normal model does not fit the distribution, and it is not much
    better with `n=10`. Even with `n=100`, the tails of the distribution clearly deviate
    from the model.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 当 `n=1` 时，正态模型不拟合分布，`n=10` 时也并不好多少。即使 `n=100`，分布的尾部也明显偏离模型。
- en: The mean and variance of the lognormal distribution are finite, so the distribution
    of the sum converges to normal eventually. But for some highly skewed distributions,
    it might not converge at any practical sample size. And in some cases, it doesn’t
    happen at all.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 对数正态分布的均值和方差是有限的，因此总和的分布最终会收敛到正态分布。但对于一些高度倾斜的分布，可能在任何实用的样本大小下都不会收敛。在某些情况下，甚至根本不会发生。
- en: The Limits of the Central Limit Theorem
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 中心极限定理的局限性
- en: Pareto distributions are even more skewed than lognormal. Depending on the parameters,
    some Pareto distributions do not have finite mean and variance – in those cases,
    the Central Limit Theorem does not apply.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 帕累托分布比对数正态分布更加倾斜。根据参数的不同，一些帕累托分布没有有限的均值和方差——在这些情况下，中心极限定理不适用。
- en: To demonstrate, we’ll generate values from a Pareto distribution with parameter
    `alpha=1`, which has infinite mean and variance.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示，我们将从参数 `alpha=1` 的帕累托分布中生成值，该分布具有无限的均值和方差。
- en: '[PRE64]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Here’s what the normal probability plots look like for a range of sample sizes.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是不同样本量下的正态概率图。
- en: '[PRE65]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '![_images/587b9641385d2eb3b402badb3ed3172d2a45694e547a64cf0a6f2c63806aac36.png](../Images/19722c4ba77224c2d4d07bbf65b4cef3.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/19722c4ba77224c2d4d07bbf65b4cef3.png)'
- en: Even with `n=100`, the distribution of the sum is nothing like a normal distribution.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 即使 `n=100`，总和的分布也根本不像正态分布。
- en: I also mentioned that the CLT does not apply if the values are correlated. To
    test that, we’ll use a function called `generate_expo_correlated` to generate
    values from an exponential distribution where the serial correlation – that is,
    the correlation between successive elements in the sample – is the given value,
    `rho`. This function is defined in the notebook for this chapter.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我还提到，如果值是相关的，中心极限定理不适用。为了测试这一点，我们将使用一个名为 `generate_expo_correlated` 的函数来生成指数分布的值，其中序列相关——即样本中连续元素之间的相关性——是给定的值，`rho`。此函数定义在本章的笔记本中。
- en: '[PRE66]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Given a correlated sequence from a normal distribution, the following function
    generates a correlated sequence from an exponential distribution.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 给定一个来自正态分布的相关序列，以下函数生成一个来自指数分布的相关序列。
- en: '[PRE67]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: It starts with a sequence of correlated normal values and uses the normal CDF
    to transform them to a sequence of values from a uniform distribution between
    0 and 1. Then it uses the exponential inverse CDF to transform them to a sequence
    of exponential values.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 它从一个相关的正态值序列开始，并使用正态CDF将它们转换为0到1之间的均匀分布的值序列。然后它使用指数逆CDF将它们转换为指数值序列。
- en: The following loop makes a `DataFrame` with one column for each sample size
    and 1001 sums in each column.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 以下循环创建一个 `DataFrame`，其中每列对应一个样本大小，每列有1001个总和。
- en: '[PRE68]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: Here are the normal probability plots for the distribution of these sums.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是这些总和分布的正态概率图。
- en: '[PRE69]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '![_images/14c589bb074224b2acca7b61ea39e860ba0bd6970265d02e1629e183da8b0519.png](../Images/067ebdb9bf70407ca9ec4720b401c3b5.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/067ebdb9bf70407ca9ec4720b401c3b5.png)'
- en: With `rho=0.8`, there is a strong correlation between successive elements, and
    the distribution of the sum converges slowly. If there is also a strong correlation
    between distant elements of the sequence, it might not converge at all.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 当 `rho=0.8` 时，相邻元素之间存在强烈的相关性，总和的分布缓慢收敛。如果序列中远距离元素之间也存在强烈的相关性，它可能根本不会收敛。
- en: The previous section shows that the Central Limit Theorem works, and this section
    shows what happens when it doesn’t. Now let’s see how we can use it.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 前一节展示了中心极限定理是如何工作的，本节展示了当它不起作用时会发生什么。现在让我们看看我们如何使用它。
- en: Applying the CLT
  id: totrans-180
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用中心极限定理
- en: 'To see why the Central Limit Theorem is useful, let’s get back to the example
    in [Chapter 9](chap09.html#section-diff-means): testing the apparent difference
    in mean pregnancy length for first babies and others. We’ll use the NSFG data
    again – instructions for downloading it are in the notebook for this chapter.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 为了了解为什么中心极限定理是有用的，让我们回到第 9 章[示例](chap09.html#section-diff-means)：测试第一胎和其他婴儿的平均怀孕长度之间的明显差异。我们再次使用
    NSFG 数据——下载说明在本章的笔记本中。
- en: The following cell downloads the data.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 以下单元格下载数据。
- en: '[PRE70]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: We’ll use `get_nsfg_groups` to read the data and divide it into first babies
    and others.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用 `get_nsfg_groups` 来读取数据并将其分为第一胎和其他婴儿。
- en: '[PRE71]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: As we’ve seen, first babies are born a little later, on average – the apparent
    difference is about 0.078 weeks.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所见，第一胎婴儿平均出生时间稍晚——明显的差异约为 0.078 周。
- en: '[PRE72]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: '[PRE73]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: To see whether this difference might have happened by chance, we’ll assume as
    a null hypothesis that the mean and variance of pregnancy lengths is actually
    the same for both groups, so we can estimate it using all live births.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 为了看看这个差异是否可能是偶然发生的，我们将假设一个零假设，即怀孕长度的平均值和方差实际上对两组都是相同的，因此我们可以使用所有活产婴儿来估计它。
- en: '[PRE74]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: The distribution of pregnancy lengths does not follow a normal distribution
    – nevertheless, we can use a normal distribution to approximate the sampling distribution
    of the mean.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 怀孕长度的分布并不遵循正态分布——尽管如此，我们可以使用正态分布来近似均值的抽样分布。
- en: The following function takes a sequence of values and returns a `Normal` object
    that represents the sampling distribution of the mean of a sample with the given
    size, `n`, drawn from a normal distribution with the same mean and variance as
    the data.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 以下函数接受一系列值并返回一个 `Normal` 对象，该对象表示从具有相同均值和方差的正态分布中抽取的给定大小 `n` 的样本均值的抽样分布。
- en: '[PRE75]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Here’s a normal approximation to the sampling distribution of mean weight for
    first births, under the null hypothesis.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 这是根据零假设下第一胎出生的平均体重抽样分布的正常近似。
- en: '[PRE76]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: '[PRE77]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: And here’s the sampling distribution for other babies.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这是其他婴儿的抽样分布。
- en: '[PRE78]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '[PRE79]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: We can compute the sampling distribution of the difference like this.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以这样计算差异的抽样分布。
- en: '[PRE80]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '[PRE81]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: The mean is 0, which makes sense because if we draw two samples from the same
    distribution, we expect the difference in means to be 0, on average. The variance
    of the sampling distribution is 0.0032, which indicates how much variation we
    expect in the difference due to chance.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 均值为 0，这是有意义的，因为如果我们从同一分布中抽取两个样本，我们期望平均值的差异平均为 0。抽样分布的方差为 0.0032，这表明我们期望由于偶然性导致的差异变化有多大。
- en: To confirm that this distribution approximates the sampling distribution, we
    can also estimate it by resampling.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确认这个分布近似于抽样分布，我们还可以通过重采样来估计它。
- en: '[PRE82]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: Here’s the empirical CDF of the resampled differences compared to the normal
    model. The vertical dotted lines show the observed difference, positive and negative.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 这是重采样差异的经验累积分布函数与正态模型相比。垂直虚线显示观察到的差异，正负都有。
- en: '[PRE83]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: '![_images/8554f3cc4200ae56cb83ba2865c3fa27e114ce327b2076f6c9c7e765e5bc586d.png](../Images/0b6ab9aed3b56feeaab7266d87d8a99c.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/0b6ab9aed3b56feeaab7266d87d8a99c.png)'
- en: In this example, the sample sizes are large and the skewness of the measurements
    is modest, so the sampling distribution is well approximated by a normal distribution.
    Therefore, we can use the normal CDF to compute a p-value. The following method
    computes the CDF of a normal distribution.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，样本量很大，测量的偏斜度适中，因此抽样分布很好地被正态分布所近似。因此，我们可以使用正态CDF来计算 p 值。以下方法计算正态分布的 CDF。
- en: '[PRE84]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: Here’s the probability of a difference as large as `delta` under the null hypothesis,
    which is the area under the right tail of the sampling distribution.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 这是根据零假设下差异达到 `delta` 的概率，即抽样分布右尾下的面积。
- en: '[PRE85]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: '[PRE86]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: And here’s the probability of a difference as negative as `-delta`, which is
    the area under the left tail.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 以及这里负 `-delta` 差异的概率，这是左尾下的面积。
- en: '[PRE87]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: '[PRE88]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: '`left` and `right` are the same because the normal distribution is symmetric.
    The sum of the two is the probability of a difference as large as `delta`, positive
    or negative.'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '`left` 和 `right` 是相同的，因为正态分布是对称的。它们的和是 `delta` 差异发生的概率，无论是正还是负。'
- en: '[PRE89]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: '[PRE90]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: The resulting p-value is 0.170, which is consistent with the estimate we computed
    by resampling in [Chapter 9](chap09.html#section-diff-means).
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 得到的 p 值为 0.170，这与我们在第 9 章（chap09.html#section-diff-means）中通过重采样计算出的估计值一致。
- en: The way we computed this p-value is similar to an **independent sample \(t\)
    test**. SciPy provides a function called `ttest_ind` that takes two samples and
    computes a p-value for the difference in their means.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 我们计算这个 p 值的方法与**独立样本 \(t\) 检验**类似。SciPy 提供了一个名为 `ttest_ind` 的函数，它接受两个样本并计算它们均值差异的
    p 值。
- en: '[PRE91]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: '[PRE92]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: When the sample sizes are large, the result of the \(t\) test is close to what
    we computed with normal distributions. The \(t\) test is so called because it
    is based on a **t distribution** rather than a normal distribution. The \(t\)
    distribution is also useful for testing whether a correlation is statistically
    significant, as we’ll see in the next section.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 当样本量较大时，\(t\) 检验的结果接近我们使用正态分布计算的结果。\(t\) 检验之所以称为 \(t\) 检验，是因为它基于 \(t\) 分布而不是正态分布。\(t\)
    分布也用于测试相关性是否具有统计学意义，正如我们将在下一节中看到的。
- en: Correlation Test
  id: totrans-225
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关性检验
- en: In [Chapter 9](chap09.html#section-test-correlation) we used a permutation test
    for the correlation between birth weight and mother’s age, and found that it is
    statistically significant, with p-value less than 0.001.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在第 9 章（chap09.html#section-test-correlation）中，我们使用了排列检验来测试出生体重和母亲年龄之间的相关性，并发现它是统计显著的，p
    值小于 0.001。
- en: 'Now we can do the same thing analytically. The method is based on this mathematical
    result: If we generate two samples with size `n` from normal distributions, compute
    Pearson’s correlation, `r`, and then transform the correlation with this function:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以进行同样的分析。这种方法基于以下数学结果：如果我们从正态分布中生成两个大小为 `n` 的样本，计算皮尔逊相关系数 `r`，然后使用此函数转换相关性：
- en: '[PRE93]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: The transformed correlations follow a \(t\) distribution with parameter `n-2`.
    To see what that looks like, we’ll use the following function to generate uncorrelated
    samples from a standard normal distribution.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 转换相关性遵循参数为 `n-2` 的 \(t\) 分布。为了了解这看起来像什么，我们将使用以下函数从标准正态分布生成不相关的样本。
- en: '[PRE94]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: And the following function to compute their correlation.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 以及以下函数来计算它们的相关性。
- en: '[PRE95]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: The following loop generates many pairs of samples, computes their correlation,
    and puts the results in a list.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 以下循环生成许多样本对，计算它们的关联性，并将结果放入列表中。
- en: '[PRE96]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: Next we’ll compute the transformed correlations.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将计算转换相关性。
- en: '[PRE97]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: To check whether these `ts` follow a \(t\) distribution, we’ll use the following
    function, which makes an object that represents the CDF of a \(t\) distribution.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 为了检查这些 `ts` 是否遵循 \(t\) 分布，我们将使用以下函数，它创建一个表示 \(t\) 分布累积分布函数（CDF）的对象。
- en: '[PRE98]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: The parameter of the \(t\) distribution is called `df`, which stands for “degrees
    of freedom”. The following figure shows the CDF of a \(t\) distribution with parameter
    `n-2` along with the empirical CDF of the transformed correlations.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: \(t\) 分布的参数称为 `df`，代表“自由度”。以下图显示了参数为 `n-2` 的 \(t\) 分布的 CDF 以及转换相关性的经验 CDF。
- en: '[PRE99]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '![_images/3f882ea0aeae5d9714d9e5958377a90cb38f09ce078584497fec4ff0d9b2223a.png](../Images/0027d4a9eb77d62362db11c50da43e55.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/0027d4a9eb77d62362db11c50da43e55.png)'
- en: This shows that if we draw uncorrelated samples from normal distributions, their
    transformed correlations follow a \(t\) distribution.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明如果我们从正态分布中抽取不相关的样本，它们的转换相关性将遵循 \(t\) 分布。
- en: If we draw samples from other distributions, their transformed correlations
    don’t follow a \(t\) distribution exactly, but they converge to a \(t\) distribution
    as the sample size increases. Let’s see if this applies to the correlation of
    maternal age and birth weight. From the `DataFrame` of live births, we’ll select
    the rows with valid data.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们从其他分布中抽取样本，它们的转换相关性不会完全遵循 \(t\) 分布，但随着样本量的增加，它们会收敛到 \(t\) 分布。让我们看看这适用于母体年龄和出生体重的相关性。从活产婴儿的
    `DataFrame` 中，我们将选择具有有效数据的行。
- en: '[PRE100]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: '[PRE101]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: The actual correlation is about 0.07.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 实际的相关性约为 0.07。
- en: '[PRE102]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: '[PRE103]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: As we did in [Chapter 9](chap09.html#section-test-correlation), we can simulate
    the null hypothesis by permuting the samples.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们在 [第 9 章](chap09.html#section-test-correlation) 中所做的那样，我们可以通过重新排列样本来模拟零假设。
- en: '[PRE104]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: If we generate many permutations and compute their correlations, the result
    is a sample from the distribution of correlations under the null hypothesis.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们生成许多排列并计算它们的关联性，结果就是零假设下关联性分布的一个样本。
- en: '[PRE105]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: And we can compute the transformed correlations like this.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以像这样计算转换后的相关性。
- en: '[PRE106]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: The following figure shows the empirical CDF of the `ts` along with the CDF
    of the \(t\) distribution with parameter `n-2`.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了 `ts` 的经验累积分布函数（CDF）以及参数为 `n-2` 的 `t` 分布的 CDF。
- en: '[PRE107]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: '![_images/969c27dc5ddcfb66a7f3f7217e0c8e179ef642cbac9a8808c75b787e31aae984.png](../Images/f1e9af59bc2ada1cfa2f64be302a5ef5.png)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
  zh: '![_images/969c27dc5ddcfb66a7f3f7217e0c8e179ef642cbac9a8808c75b787e31aae984.png](../Images/f1e9af59bc2ada1cfa2f64be302a5ef5.png)'
- en: The model fits the empirical distribution well, which means we can use it to
    compute a p-value for the observed correlation. First we’ll transform the observed
    correlation.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 模型很好地拟合了经验分布，这意味着我们可以用它来计算观察到的相关性的 p 值。首先，我们将转换观察到的相关性。
- en: '[PRE108]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: Now we can use the CDF of the \(t\) distribution to compute the probability
    of a value as large as `t_actual` under the null hypothesis.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以使用 `t` 分布的 CDF 来计算在零假设下值为 `t_actual` 的概率。
- en: '[PRE109]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '[PRE110]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: We can also compute the probability of a value as negative as `-t_actual`.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以计算值为 `-t_actual` 的概率。
- en: '[PRE111]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: '[PRE112]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: The sum of the two is the probability of a correlation as big as `r_actual`,
    positive or negative.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 两者之和是相关系数为 `r_actual` 的概率，无论是正还是负。
- en: '[PRE113]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: '[PRE114]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: SciPy provides a function that does the same calculation and returns the p-value
    of the observed correlation.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: SciPy 提供了一个执行相同计算并返回观察到的相关性的 p 值的函数。
- en: '[PRE115]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: '[PRE116]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: The results are nearly the same.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 结果几乎相同。
- en: Based on the resampling results, we concluded that the p-value was less than
    0.001, but we could not say how much less without running a very large number
    of resamplings. With analytic methods, we can compute small p-values quickly.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 根据重采样结果，我们得出结论，p 值小于 0.001，但如果没有进行大量重采样，我们无法确定具体小多少。使用分析方法，我们可以快速计算小的 p 值。
- en: However, in practice it might not matter. Generally, if a p-value is smaller
    than 0.001, we can conclude that the observed effect is unlikely to be due to
    chance. It is not usually important to know precisely how unlikely.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在实践中，这可能并不重要。一般来说，如果 p 值小于 0.001，我们可以得出结论，观察到的效应不太可能是由于偶然。通常，知道具体有多不可能并不重要。
- en: Chi-squared Test
  id: totrans-275
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 卡方检验
- en: In [Chapter 9](chap09.html#section-testing-proportions) we tested whether a
    die is crooked, based on this set of observed outcomes.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [第 9 章](chap09.html#section-testing-proportions) 中，我们基于这组观察到的结果测试了一个骰子是否是弯曲的。
- en: '[PRE117]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '|  | freqs |'
  id: totrans-278
  prefs: []
  type: TYPE_TB
  zh: '|  | 频率 |'
- en: '| --- | --- |'
  id: totrans-279
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| outcome |  |'
  id: totrans-280
  prefs: []
  type: TYPE_TB
  zh: '| 结果 |  |'
- en: '| --- | --- |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 | 8 |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 8 |'
- en: '| 2 | 9 |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 9 |'
- en: '| 3 | 19 |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 19 |'
- en: '| 4 | 5 |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 5 |'
- en: '| 5 | 8 |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 8 |'
- en: '| 6 | 11 |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 11 |'
- en: First we computed the expected frequency for each outcome.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们计算了每个结果的预期频率。
- en: '[PRE118]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: Then we used the following function to compute the chi-squared statistic.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们使用以下函数来计算卡方统计量。
- en: '[PRE119]'
  id: totrans-291
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: '[PRE120]'
  id: totrans-292
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: The chi-squared statistic is widely used for this kind of data because its sampling
    distribution under the null hypothesis converges to a distribution we can compute
    efficiently – not coincidentally, it is called a **chi-squared distribution**.
    To see what it looks like, we’ll use the following function, which simulates rolling
    a fair die.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方统计量在处理这类数据时被广泛使用，因为其在零假设下的抽样分布收敛到一个我们可以高效计算的分布——不是巧合，它被称为**卡方分布**。为了了解它的样子，我们将使用以下函数，该函数模拟掷一个公平的骰子。
- en: '[PRE121]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: The following loop runs the simulation many times and computes the chi-squared
    statistic of the outcomes.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 以下循环多次运行模拟并计算结果的卡方统计量。
- en: '[PRE122]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: To check whether the results follow a chi-squared distribution, we’ll use the
    following function, which computes the CDF of a chi-squared distribution with
    parameter `df`.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 为了检查结果是否遵循卡方分布，我们将使用以下函数，该函数计算参数为 `df` 的卡方分布的 CDF。
- en: '[PRE123]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: With `n` possible outcomes, the simulated chi-squared statistics should follow
    a chi-squared distribution with parameter `n-1`.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 有 `n` 个可能的结果，模拟的卡方统计量应该遵循参数为 `n-1` 的卡方分布。
- en: '[PRE124]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: Here’s the empirical CDF of the simulated chi-squared statistics along with
    the CDF of the chi-squared distribution.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是模拟的卡方统计量的经验 CDF 以及卡方分布的 CDF。
- en: '[PRE125]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: '![_images/14da013801f82e99c9c52b754fea106deff44e8452ea419fe232db08895628f6.png](../Images/8ba3e4fe75cc56ef21550a84fc7a7d37.png)'
  id: totrans-303
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/8ba3e4fe75cc56ef21550a84fc7a7d37.png)'
- en: The model fits the simulation results well, so we can use it to compute the
    probability of a value as large as `observed_chi2` under the null hypothesis.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 模型很好地拟合了模拟结果，因此我们可以用它来计算在零假设下，值如`observed_chi2`那么大的概率。
- en: '[PRE126]'
  id: totrans-305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '[PRE127]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: SciPy provides a function that does the same computation.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: SciPy提供了一个执行相同计算的功能。
- en: '[PRE128]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: The result is the same as the p-value we computed.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 结果与我们所计算的p值相同。
- en: '[PRE129]'
  id: totrans-310
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: '[PRE130]'
  id: totrans-311
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: The advantage of the chi-squared statistic is that its distribution under the
    null hypothesis can be computed efficiently. But in context, it might not be the
    statistic that best quantifies the difference between the observed and expected
    outcomes.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方统计量的优点是其零假设下的分布可以高效地计算。但在特定情况下，它可能不是最能量化观测值和预期值之间差异的统计量。
- en: Computation and Analysis
  id: totrans-313
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算与分析
- en: 'This book focuses on computational methods like resampling and permutation.
    These methods have several advantages over analysis:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 本书重点介绍计算方法，如重采样和排列。这些方法相对于分析具有几个优点：
- en: They are easier to explain and understand. For example, one of the most difficult
    topics in an introductory statistics class is hypothesis testing. Many students
    don’t really understand what p-values are. I think the approach we took in [Chapter
    9](chap09.html#chapter-hypothesis-testing) – simulating the null hypothesis and
    computing test statistics – makes the fundamental idea clearer.
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们更容易解释和理解。例如，在入门统计学课程中最难的主题之一是假设检验。许多学生并不真正理解p值是什么。我认为我们在[第9章](chap09.html#chapter-hypothesis-testing)中采取的方法——模拟零假设并计算检验统计量——使基本思想更加清晰。
- en: They are robust and versatile. Analytic methods are often based on assumptions
    that don’t hold in practice. Computational methods require fewer assumptions,
    and can be adapted and extended more easily.
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们具有鲁棒性和多功能性。分析方法通常基于在实践中不成立的假设。计算方法需要的假设较少，并且更容易适应和扩展。
- en: 'They are debuggable. Analytic methods are often like a black box: you plug
    in numbers and they spit out results. But it’s easy to make subtle errors, hard
    to be confident that the results are right, and hard to diagnose the problem if
    they are not. Computational methods lend themselves to incremental development
    and testing, which fosters confidence in the results.'
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们是可调试的。分析方法通常像是一个黑盒：你输入数字，它们就会输出结果。但是，很容易犯细微的错误，很难对结果有信心，如果结果不正确，也很难诊断问题。计算方法适合增量开发和测试，这有助于增强对结果的可信度。
- en: 'But there are drawbacks:'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 但也存在缺点：
- en: Computational methods can be slow.
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算方法可能会很慢。
- en: Randomized methods like resampling don’t produce the same results every time,
    which makes it harder to check that they are correct.
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随机化方法，如重采样，每次产生的结果并不相同，这使得验证它们是否正确变得更加困难。
- en: 'Taking into account these pros and cons, I recommend the following process:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到这些优缺点，我推荐以下流程：
- en: Use computational methods during exploration. If you find a satisfactory answer
    and the run time is acceptable, you can stop.
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在探索过程中使用计算方法。如果你找到一个令人满意的答案，并且运行时间是可以接受的，那么你可以停止。
- en: If run time is not acceptable, look for opportunities to optimize. Using analytic
    methods is one of several methods of optimization.
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果运行时间不可接受，寻找优化机会。使用分析方法是几种优化方法之一。
- en: If replacing a computational method with an analytic method is appropriate,
    use the computational method as a basis of comparison, providing mutual validation
    between the computational and analytic results.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果用分析方法替换计算方法合适，则将计算方法作为比较的基础，提供计算结果和分析结果之间的相互验证。
- en: For many practical problems, the run time of computational methods is not a
    problem, and we don’t have to go past the first step.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 对于许多实际问题，计算方法的运行时间并不是问题，我们不需要进行到第一步之后。
- en: Glossary
  id: totrans-326
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 术语表
- en: '**normal probability plot:** A plot that compares observed values with the
    quantiles of a normal distribution to see how closely the data follow a normal
    distribution.'
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**正态概率图**：一种比较观测值与正态分布分位数，以查看数据与正态分布的接近程度的图表。'
- en: '**independent sample \(t\) test:** A method for computing the p-value of an
    observed difference between the means of two independent groups.'
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**独立样本t检验**：一种计算两个独立组均值观测差异的p值的方法。'
- en: '**\(t\) distribution:** A distribution used to model the sampling distribution
    of a difference in means under the null hypothesis that the difference is 0, as
    well as the sampling distribution of transformed correlations.'
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**t分布**：一种用于模拟在零假设下差异为0的均值差异的抽样分布以及转换后相关性的抽样分布。'
- en: '**chi-squared distribution:** A distribution used to model the sampling distribution
    of the chi-squared statistic.'
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卡方分布**：一种用于模拟卡方统计量的抽样分布的分布。'
- en: '**chi-squared statistic:** A test statistic that quantifies the magnitude of
    the difference between two discrete distributions.'
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卡方统计量**：一个测试统计量，用于量化两个离散分布之间差异的大小。'
- en: Exercises
  id: totrans-332
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习
- en: Exercise 14.1
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习14.1
- en: In this chapter we compared the weights of male and female penguins and computed
    a confidence interval for the difference. Now let’s do the same for flipper length.
    The observed difference is about 4.6 mm.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们比较了雄性和雌性企鹅的体重，并计算了差异的置信区间。现在让我们对鳍长做同样的事情。观察到的差异大约是4.6毫米。
- en: '[PRE131]'
  id: totrans-335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: '[PRE132]'
  id: totrans-336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: Use `sampling_dist_mean` to make `Normal` objects that represent sampling distributions
    for the mean flipper length in the two groups – noting that the groups are not
    the same size. Then compute the sampling distribution of the difference and a
    90% confidence interval.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`sampling_dist_mean`创建代表两组中平均鳍长抽样分布的`Normal`对象——注意两组的大小并不相同。然后计算差异的抽样分布和90%的置信区间。
- en: Exercise 14.2
  id: totrans-338
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习14.2
- en: Using the NSFG data, we computed the correlation between a baby’s birth weight
    and the mother’s age, and we used a \(t\) distribution to compute a p-value. Now
    let’s do the same with birth weight and father’s age, which is recorded in the
    `hpagelb` column.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 使用NSFG数据，我们计算了婴儿出生体重与母亲年龄之间的相关性，并使用`t`分布来计算p值。现在让我们用出生体重和父亲的年龄来做同样的事情，这些年龄记录在`hpagelb`列中。
- en: '[PRE133]'
  id: totrans-340
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: '[PRE134]'
  id: totrans-341
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: The observed correlation is about 0.065.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 观察到的相关性约为0.065。
- en: '[PRE135]'
  id: totrans-343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: '[PRE136]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: Compute the transformed correlation, `t_actual`. Use the CDF of the \(t\) distribution
    to compute a p-value – is this correlation statistically significant? Use the
    SciPy function `pearsonr` to check your results.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 计算转换后的相关性，`t_actual`。使用`t`分布的累积分布函数（CDF）来计算p值——这个相关性是否具有统计学意义？使用SciPy函数`pearsonr`来检查你的结果。
- en: Exercise 14.3
  id: totrans-346
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习14.3
- en: In one of the exercises in [Chapter 9](chap09.html#chapter-hypothesis-testing)
    we considered the Trivers-Willard hypothesis, which suggests that for many mammals
    the sex ratio depends on “maternal condition” – that is, factors like the mother’s
    age, size, health, and social status. Some studies have shown this effect among
    humans, but results are mixed.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 在第9章的一个练习中，我们考虑了特里弗斯-威拉德假说，该假说表明，对于许多哺乳动物，性别比例取决于“母体条件”——也就是说，像母亲的年龄、体型、健康状况和社会地位这样的因素。一些研究表明，在人类中也有这种效应，但结果不一。
- en: As an example, and a chance to practice a chi-squared test, let’s see if there’s
    a relationship between the sex of a baby and the mother’s marital status. The
    notebook for this chapter has instructions to help you get started.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 作为例子，也是练习卡方检验的机会，让我们看看婴儿的性别和母亲的婚姻状况之间是否存在关系。本章节的笔记本中有指导说明，可以帮助你开始。
- en: First we’ll partition mothers of male and female babies.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将将男性和女性的母亲分开。
- en: '[PRE137]'
  id: totrans-350
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: 'Now we’ll make a `DataFrame` with one column for each group and one row for
    each value of `fmarital`, which encodes marital status like this:'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将创建一个`DataFrame`，其中每一列代表一个组，每一行代表`fmarital`的每个值，如下所示：
- en: '[PRE138]'
  id: totrans-352
  prefs: []
  type: TYPE_PRE
  zh: '[PRE138]'
- en: '[PRE139]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE139]'
- en: '|  | male | female |'
  id: totrans-354
  prefs: []
  type: TYPE_TB
  zh: '|  | male | female |'
- en: '| --- | --- | --- |'
  id: totrans-355
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| fmarital |  |  |'
  id: totrans-356
  prefs: []
  type: TYPE_TB
  zh: '| fmarital |  |  |'
- en: '| --- | --- | --- |'
  id: totrans-357
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| 1 | 2576 | 2559 |'
  id: totrans-358
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2576 | 2559 |'
- en: '| 2 | 56 | 54 |'
  id: totrans-359
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 56 | 54 |'
- en: '| 3 | 568 | 572 |'
  id: totrans-360
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 568 | 572 |'
- en: '| 4 | 355 | 330 |'
  id: totrans-361
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 355 | 330 |'
- en: '| 5 | 1086 | 985 |'
  id: totrans-362
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 1086 | 985 |'
- en: The null hypothesis is that the distribution of marital status is the same for
    both groups, so we can use the whole dataset to compute it.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 原假设是婚姻状况的分布在这两组中是相同的，因此我们可以使用整个数据集来计算它。
- en: '[PRE140]'
  id: totrans-364
  prefs: []
  type: TYPE_PRE
  zh: '[PRE140]'
- en: '|  | probs |'
  id: totrans-365
  prefs: []
  type: TYPE_TB
  zh: '|  | probs |'
- en: '| --- | --- |'
  id: totrans-366
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| fmarital |  |'
  id: totrans-367
  prefs: []
  type: TYPE_TB
  zh: '| fmarital |  |'
- en: '| --- | --- |'
  id: totrans-368
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 | 0.561653 |'
  id: totrans-369
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0.561653 |'
- en: '| 2 | 0.012024 |'
  id: totrans-370
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 0.012024 |'
- en: '| 3 | 0.124617 |'
  id: totrans-371
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 0.124617 |'
- en: '| 4 | 0.075208 |'
  id: totrans-372
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 0.075208 |'
- en: '| 5 | 0.226498 |'
  id: totrans-373
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 0.226498 |'
- en: To compute the expected values, we multiply the probabilities in `pmf_marital`
    by the total number of cases in each column.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 为了计算期望值，我们将`pmf_marital`中的概率乘以每列中的总案例数。
- en: '[PRE141]'
  id: totrans-375
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: '|  | male | female |'
  id: totrans-376
  prefs: []
  type: TYPE_TB
  zh: '|  | male | female |'
- en: '| --- | --- | --- |'
  id: totrans-377
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| fmarital |  |  |'
  id: totrans-378
  prefs: []
  type: TYPE_TB
  zh: '| fmarital |  |  |'
- en: '| --- | --- | --- |'
  id: totrans-379
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| 1 | 2606.630739 | 2527.437691 |'
  id: totrans-380
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2606.630739 | 2527.437691 |'
- en: '| 2 | 55.805641 | 54.110188 |'
  id: totrans-381
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 55.805641 | 54.110188 |'
- en: '| 3 | 578.349366 | 560.778312 |'
  id: totrans-382
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 578.349366 | 560.778312 |'
- en: '| 4 | 349.038916 | 338.434631 |'
  id: totrans-383
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 349.038916 | 338.434631 |'
- en: '| 5 | 1051.175339 | 1019.239178 |'
  id: totrans-384
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 1051.175339 | 1019.239178 |'
- en: 'Use `observed` and `expected` to compute a chi-squared statistic. Then use
    the CDF of the chi-squared distribution to compute a p-value. The degrees of freedom
    should be `n-1`, where `n` is the number of values in the observed `DataFrame`.
    Then use the SciPy function `chisquared` to compute the chi-squared statistic
    and p-value. Hint: use the argument `axis=None` to treat the entire `DataFrame`
    as a single test rather than one test for each column.'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`observed`和`expected`来计算卡方统计量。然后使用卡方分布的CDF来计算p值。自由度应该是`n-1`，其中`n`是观察到的`DataFrame`中的值数。然后使用SciPy函数`chisquared`来计算卡方统计量和p值。提示：使用`axis=None`参数将整个`DataFrame`视为一个单独的测试，而不是每列一个测试。
- en: Does this test provide support for the Trivers-Willard hypothesis?
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 这个测试是否为特里弗斯-威尔拉德假说提供了支持？
- en: Exercise 14.4
  id: totrans-387
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习14.4
- en: The method we used in this chapter to analyze differences between groups can
    be extended to analyze “differences in differences”, which is a common experimental
    design. As an example, we’ll use data from a 2014 paper that investigates the
    effects of an intervention intended to mitigate gender-stereotypical task allocation
    within student engineering teams.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在本章中用于分析组间差异的方法可以扩展到分析“差异的差异”，这是一种常见的实验设计。作为一个例子，我们将使用2014年一篇研究旨在减缓学生工程团队中性别刻板任务分配干预效果的论文中的数据。
- en: Stein, L. A., Aragon, D., Moreno, D., & Goodman, J. (2014, October). Evidence
    for the persistent effects of an intervention to mitigate gender-stereotypical
    task allocation within student engineering teams. In *2014 IEEE Frontiers in Education
    Conference (FIE) Proceedings* (pp. 1-9). IEEE.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: Stein, L. A., Aragon, D., Moreno, D., & Goodman, J. (2014, October). 减缓学生工程团队中性别刻板任务分配干预的持久效应的证据。载于
    *2014 IEEE 前沿教育会议 (FIE) 论文集* (第1-9页)。IEEE。
- en: Available from [http://ieeexplore.ieee.org/document/7044435/](http://ieeexplore.ieee.org/document/7044435/).
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 可从 [http://ieeexplore.ieee.org/document/7044435/](http://ieeexplore.ieee.org/document/7044435/)
    获取。
- en: Before and after the intervention, students responded to a survey that asked
    them to rate their contribution to each aspect of class projects on a 7-point
    scale.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 在干预前后，学生回答了一份调查，要求他们在7点量表上对课堂项目每个方面的贡献进行评分。
- en: 'Before the intervention, male students reported higher scores for the programming
    aspect of the projects than female students: men reported an average score of
    3.57 with standard error 0.28; women reported an average score of 1.91 with standard
    error 0.32.'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 在干预之前，男性学生在项目编程方面报告的分数高于女性学生：男性报告的平均分数为3.57，标准误差为0.28；女性报告的平均分数为1.91，标准误差为0.32。
- en: 'After the intervention, the gender gap was smaller: the average score for men
    was 3.44 (SE 0.16); the average score for women was 3.18 (SE 0.16).'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 干预之后，性别差距变小了：男性的平均分数为3.44（SE 0.16）；女性的平均分数为3.18（SE 0.16）。
- en: Make four `Normal` objects to represent the sampling distributions of the estimated
    means before and after the intervention, for both male and female students. Because
    we have standard errors for the estimated means, we don’t need to know the sample
    size to get the parameters of the sampling distributions.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 制作四个`Normal`对象来表示干预前后男性和女性学生的估计均值抽样分布。因为我们有估计均值的标准误差，所以我们不需要知道样本大小就可以得到抽样分布的参数。
- en: Compute the sampling distributions of the gender gap – the difference in means
    – before and after the intervention.
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算干预前后性别差距（即均值差异）的抽样分布。
- en: Then compute the sampling distribution of the difference in differences – that
    is, the change in the size of the gap. Compute a 95% confidence interval and a
    p-value.
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后计算差异差异的抽样分布——即差距大小的变化。计算95%置信区间和p值。
- en: Is there evidence that the size of the gender gap decreased after the intervention?
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 干预之后，性别差距的大小是否有所减小？
- en: '[Think Stats: Exploratory Data Analysis in Python, 3rd Edition](https://allendowney.github.io/ThinkStats/index.html)'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: '[Think Stats: Python中的探索性数据分析，第3版](https://allendowney.github.io/ThinkStats/index.html)'
- en: Copyright 2024 [Allen B. Downey](https://allendowney.com)
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 版权所有 2024 [艾伦·B·唐尼](https://allendowney.com)
- en: 'Code license: [MIT License](https://mit-license.org/)'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 代码许可：[MIT 许可证](https://mit-license.org/)
- en: 'Text license: [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International](https://creativecommons.org/licenses/by-nc-sa/4.0/)'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 文本许可：[Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International](https://creativecommons.org/licenses/by-nc-sa/4.0/)
